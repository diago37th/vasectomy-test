<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç´³å£«çµç´®è³‡æ ¼æª¢å®š - æ¡ƒåœ’é«˜ç¾æ³Œå°¿ç§‘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="bg-gradient-to-br from-slate-50 to-amber-50 min-h-screen py-8 px-4">
    <div id="root"></div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState } = React;

        // ==========================================
        // ğŸ¨ åœ–ç‰‡è¨­å®šå€ - åœ¨é€™è£¡æ›¿æ›ä½ çš„åœ–ç‰‡ç¶²å€
        // ==========================================
        const IMAGES = {
            header:"images/header.webp",
            question1: "images/q1.webp",
            question2: "images/q2.webp",
            question3: "images/q3.webp",
            question4: "images/q4.webp",
            question5: "images/q5.webp",
            question6: "images/q6.webp",
            question7: "images/q7.webp",
            question8: "images/q8.webp",
            question9: "images/q9.webp",
            question10: "images/q10.webp",
            resultA: "images/result-a.webp",
            resultB: "images/result-b.webp",
            resultC: "images/result-c.webp",
        };

        const questions = [
            {
                id: 1,
                question: "é—œæ–¼æ‚¨çš„å®¶åº­è¦åŠƒç‹€æ…‹ï¼Ÿ",
                icon: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
                image: IMAGES.question1,
                options: [
                    { text: "å·²æœ‰2å€‹ä»¥ä¸Šå­©å­ï¼Œç¢ºå®šä¸å†ç”Ÿè‚²", score: 10 },
                    { text: "æœ‰1-2å€‹å­©å­ï¼Œç›®å‰å‚¾å‘ä¸å†ç”Ÿ", score: 5 },
                    { text: "é‚„æ²’æœ‰å°å­©ï¼Œæˆ–æœªä¾†å¯èƒ½æƒ³å†ç”Ÿ", score: 0 }
                ]
            },
            {
                id: 2,
                question: "æ‚¨çš„ä¼´ä¾¶å°é€™å€‹æ±ºå®šçš„æ…‹åº¦ï¼Ÿ",
                icon: "ğŸ’‘",
                image: IMAGES.question2,
                options: [
                    { text: "æˆ‘å€‘å·²ç¶“é–‹éå®¶åº­æœƒè­°ï¼Œé›™æ–¹å®Œå…¨åŒæ„ä¸¦æ”¯æŒ", score: 10 },
                    { text: "å¥¹çŸ¥é“ï¼Œä½†æˆ‘å€‘é‚„åœ¨è¨è«–ç´°ç¯€ä¸­", score: 5 },
                    { text: "é€™æ˜¯æˆ‘çš„å€‹äººæ±ºå®šï¼Œæ²’æ‰“ç®—è®“å¥¹çŸ¥é“", score: 0 }
                ]
            },
            {
                id: 3,
                question: "é—œæ–¼çµç´®çš„ã€Œæ°¸ä¹…ä¸å¯é€†æ€§ã€æ‚¨çš„ç†è§£ï¼Ÿã€é—œéµé¡Œã€‘",
                icon: "ğŸ”’",
                image: IMAGES.question3,
                critical: true,
                options: [
                    { text: "æˆ‘ç†è§£é€™æ˜¯æ°¸ä¹…çš„æ±ºå®šï¼Œæˆ‘å·²å°‡ä»Šæ—¥è¦–ç‚ºç”Ÿè‚²åŠŸèƒ½çš„çµ‚é»", score: 10 },
                    { text: "çŸ¥é“å¾ˆé›£æ¥å›ï¼Œä½†è¦ºå¾—ä»¥å¾ŒçœŸçš„å¾Œæ‚”å†èŠ±éŒ¢æ¥å°±å¥½", score: 5 },
                    { text: "åªæ˜¯æš«æ™‚é¿å­•ï¼Œæœªä¾†è‹¥æ›ä¼´ä¾¶å¯èƒ½æœƒæƒ³æ¥å›å»", score: 0 }
                ]
            },
            {
                id: 4,
                question: "æ‚¨ç›¸ä¿¡çµç´®ã€Œä¸æœƒã€å½±éŸ¿æ€§åŠŸèƒ½å—ï¼Ÿ",
                icon: "ğŸ’ª",
                image: IMAGES.question4,
                options: [
                    { text: "ç›¸ä¿¡ç§‘å­¸ï¼çµç´®åªæ“‹ç²¾èŸ²ä¸æ“‹è·çˆ¾è’™ï¼Œç¡¬åº¦èˆ‡æ€§æ…¾ä¸è®Š", score: 10 },
                    { text: "ç†æ™ºä¸Šç›¸ä¿¡ï¼Œä½†å¿ƒç†é‚„æ˜¯æœ‰é»æ“”å¿ƒæœƒä¸æœƒè®Šè»Ÿ", score: 5 },
                    { text: "éå¸¸æ“”å¿ƒæœƒå½±éŸ¿é›„é¢¨ï¼Œæƒ³åšæ‰‹è¡“ä½†å…§å¿ƒå¾ˆææ‡¼", score: 0 }
                ]
            },
            {
                id: 5,
                question: "è¡“å¾Œç¬¬ä¸€é€±ï¼ˆé—œéµ7å¤©ï¼‰æ‚¨èƒ½å®Œå…¨ç¦æ…¾å—ï¼Ÿ",
                icon: "ğŸš«",
                image: IMAGES.question5,
                options: [
                    { text: "æ²’å•é¡Œï¼Œç‚ºäº†å‚·å£å®‰å…¨å¾©åŸï¼Œæˆ‘æœƒåš´æ ¼éµå®ˆç¦æ…¾è¦å®š", score: 10 },
                    { text: "æœƒç›¡åŠ›é…åˆï¼Œä½†æ€•ç”Ÿç†è¡å‹•é›£ä»¥å¿å—", score: 5 },
                    { text: "ä¸è¡Œï¼Œæˆ‘æƒ³è¡“å¾Œç•¶æ™šå°±æ¸¬è©¦åŠŸèƒ½æ˜¯å¦æ­£å¸¸", score: 0 }
                ]
            },
            {
                id: 6,
                question: "æ‚¨é¡˜æ„éµå®ˆã€Œæ’ç©ºæœŸã€è¦å®šå—ï¼Ÿï¼ˆå°„ç²¾20æ¬¡+æ»¿3å€‹æœˆï¼‰ã€é—œéµé¡Œã€‘",
                icon: "ğŸ“…",
                image: IMAGES.question6,
                critical: true,
                options: [
                    { text: "æ²’å•é¡Œï¼æˆ‘æœƒç¢ºå¯¦é¿å­•ï¼Œç›´åˆ°å›è¨ºåŒ–é©—ç¢ºèªç„¡ç²¾èŸ²", score: 10 },
                    { text: "æœƒè¨˜æ¬¡æ•¸ï¼Œä½†è¦ºå¾—ä¸‰å€‹æœˆå¤ªä¹…ï¼Œå¯èƒ½æœƒææ—©ç„¡å¥—", score: 5 },
                    { text: "åšå®Œæ‰‹è¡“å°±æ˜¯ç‚ºäº†é¦¬ä¸Šç„¡å¥—ï¼Œä¸ç„¶åšæ‰‹è¡“å¹¹å˜›ï¼Ÿ", score: 0 }
                ]
            },
            {
                id: 7,
                question: "æ‚¨å°æ‰‹è¡“é¢¨éšªï¼ˆå¦‚1%è¡€è…«æˆ–æ„ŸæŸ“ï¼‰çš„æ¥å—åº¦ï¼Ÿ",
                icon: "âš•ï¸",
                image: IMAGES.question7,
                options: [
                    { text: "ç†è§£ä»»ä½•æ‰‹è¡“éƒ½æœ‰é¢¨éšªï¼Œæˆ‘ä¿¡ä»»é†«å¸«çš„å°ˆæ¥­è™•ç†", score: 10 },
                    { text: "èƒ½æ¥å—ï¼Œä½†å¦‚æœçœŸçš„ç™¼ç”Ÿäº†ï¼Œæˆ‘æœƒéå¸¸ç„¦æ…®", score: 5 },
                    { text: "æˆ‘è¦æ±‚100%å®Œç¾ï¼Œä¸èƒ½æœ‰ä»»ä½•ç–¼ç—›ã€ç˜€é’æˆ–æ„å¤–", score: 0 }
                ]
            },
            {
                id: 8,
                question: "é©—æ”¶æ—¥ï¼šæ‚¨ä¿è­‰æœƒå¸¶ç²¾æ¶²æ¨£æœ¬å›è¨ºæª¢æŸ¥å—ï¼Ÿ",
                icon: "ğŸ”¬",
                image: IMAGES.question8,
                options: [
                    { text: "çµ•å°æœƒï¼æ‹¿åˆ°é†«å¸«é–‹ç«‹çš„ã€Œç„¡ç²¾èŸ²è­‰æ˜ã€å¾Œæ‰è§£ç¦", score: 10 },
                    { text: "å¦‚æœæœ‰ç©ºå°±æœƒå›è¨ºï¼Œæ²’ç©ºå°±ä¸ç®¡äº†", score: 5 },
                    { text: "å›è¨ºå¤ªéº»ç…©ï¼Œæˆ‘è¦ºå¾—è‡ªå·±æ„Ÿè¦ºæ²’ç²¾äº†å°±å¥½", score: 0 }
                ]
            },
            {
                id: 9,
                question: "èª°æ˜¯é€™é …æ‰‹è¡“æœ€ä¸»è¦çš„æè­°è€…ï¼Ÿã€é—œéµé¡Œã€‘",
                icon: "ğŸ¤´",
                image: IMAGES.question9,
                critical: true,
                options: [
                    { text: "æˆ‘ä¸»å‹•æå‡ºçš„ï¼Œç¶“éæ·±æ€ç†Ÿæ…®å¾Œçš„æ±ºå®š", score: 10 },
                    { text: "æ˜¯ä¼´ä¾¶å»ºè­°ï¼Œä½†æˆ‘è‡ªå·±ä¹ŸèªåŒé€™å€‹é¸æ“‡", score: 5 },
                    { text: "å®Œå…¨æ˜¯è¢«è¿«çš„ï¼Œæˆ‘å…¶å¯¦å¾ˆä¸é¡˜æ„", score: 0 }
                ]
            },
            {
                id: 10,
                question: "è‹¥å¾©åŸé€²åº¦ä¸å¦‚é æœŸï¼Œæ‚¨çš„å¿ƒç†åæ‡‰æ˜¯ï¼Ÿ",
                icon: "ğŸŒŠ",
                image: IMAGES.question10,
                options: [
                    { text: "ä¿æŒå†·éœï¼Œéµç…§é†«å›‘å›è¨ºï¼Œèˆ‡é†«å¸«å……åˆ†æºé€šé…åˆ", score: 10 },
                    { text: "æœƒæ„Ÿåˆ°ææ…Œï¼Œé »ç¹ä¸Šç¶²æŸ¥è³‡æ–™æˆ–æ‰“é›»è©±è©¢å•æ«ƒæª¯", score: 5 },
                    { text: "æœƒè¦ºå¾—æ‰‹è¡“å¤±æ•—ï¼Œå°é†«å¸«æ„Ÿåˆ°ä¸æ»¿ç”šè‡³ç”¢ç”Ÿæ€’ç«", score: 0 }
                ]
            }
        ];

        function App() {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [answers, setAnswers] = useState({});
            const [showResult, setShowResult] = useState(false);
            const [testDate] = useState(new Date());
            const [isExporting, setIsExporting] = useState(false);

            const handleAnswer = (score) => {
                const newAnswers = { 
                    ...answers, 
                    [currentQuestion]: {
                        question: questions[currentQuestion].question,
                        answer: questions[currentQuestion].options.find(opt => opt.score === score).text,
                        score: score,
                        critical: questions[currentQuestion].critical || false
                    }
                };
                setAnswers(newAnswers);

                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                } else {
                    setShowResult(true);
                }
            };

            const totalScore = Object.values(answers).reduce((sum, answer) => sum + answer.score, 0);

            const getResult = () => {
                // æª¢æŸ¥é—œéµé¡Œæ˜¯å¦æœ‰0åˆ†ï¼ˆä¸€ç¥¨å¦æ±ºï¼‰
                const criticalFail = Object.values(answers).some(answer => 
                    answer.critical && answer.score === 0
                );

                const hasCriticalWarning = Object.values(answers).some(answer => 
                    answer.critical && answer.score < 10
                );

                if (totalScore >= 80 && !criticalFail) {
                    return {
                        title: "ğŸ† å„ªé›…ç´³å£«",
                        grade: "Aç´šé ‚ç´šå€™é¸äºº",
                        description: "æ­å–œï¼æ‚¨çš„èº«å¿ƒæº–å‚™åº¦ã€å®¶åº­å…±è­˜ä»¥åŠå°é†«ç™‚çŸ¥è­˜çš„ç†è§£éƒ½å·²ç¶“é”åˆ°æœ€é«˜æ¨™æº–ã€‚æ‚¨å±•ç¾äº†æˆç†Ÿç”·äººçš„è²¬ä»»æ„Ÿï¼Œæ˜¯æ¥µç‚ºé©åˆé€²è¡Œçµç´®æ‰‹è¡“çš„å„ªè³ªå€™é¸äººã€‚",
                        recommendation: "å»ºè­°è¡Œå‹•",
                        action: "æ‚¨å¯ä»¥ç›´æ¥é ç´„é–€è¨ºï¼Œèˆ‡é™³å† å»·é™¢é•·è¨è«–æ‰‹è¡“ç´°ç¯€èˆ‡æ™‚ç¨‹å®‰æ’ã€‚æˆ‘å€‘å°‡å„ªå…ˆç‚ºæ‚¨å®‰æ’æ‰‹è¡“æ™‚æ®µã€‚",
                        contact: "è«‹é€é Facebook ç²‰çµ²å°ˆé ã€æ¡ƒåœ’é«˜ç¾æ³Œå°¿ç§‘ã€‘ç§è¨Šé ç´„ï¼Œä¸¦ä¸‹è¼‰æ‚¨çš„è©•ä¼°çµæœPDFå›å‚³çµ¦æˆ‘å€‘",
                        color: "from-amber-400 to-yellow-600",
                        bgColor: "bg-amber-50",
                        borderColor: "border-amber-300",
                        image: IMAGES.resultA
                    };
                } else if (totalScore >= 50 || criticalFail) {
                    let warningText = "";
                    if (criticalFail) {
                        warningText = "âš ï¸ æ‚¨åœ¨é—œéµé¡Œé …ï¼ˆæ°¸ä¹…èªçŸ¥ã€æ’ç©ºæœŸéµå®ˆã€ä¸»å‹•æ„é¡˜ï¼‰ä¸­æœ‰åš´é‡ç–‘æ…®ã€‚å³ä½¿ç¸½åˆ†ä¸ä½ï¼Œé€™äº›é …ç›®è‹¥æœªé‡æ¸…ï¼Œæœªä¾†æ¥µæ˜“ç”¢ç”Ÿéºæ†¾æˆ–é†«ç™‚ç³¾ç´›ã€‚";
                    } else if (hasCriticalWarning) {
                        warningText = "âš ï¸ æ‚¨åœ¨é—œéµé¡Œé …ä¸­ä»æœ‰çŒ¶è±«ã€‚å»ºè­°å…ˆé‡æ¸…é€™äº›ç–‘æ…®ã€‚";
                    }

                    return {
                        title: "âš ï¸ å¯©æ…è©•ä¼°è€…",
                        grade: "Bç´šå€™é¸äºº",
                        description: criticalFail || hasCriticalWarning
                            ? warningText + " å»ºè­°å…ˆä¾†é–€è¨ºèˆ‡é™³å† å»·é™¢é•·è©³ç´°è¨è«–ï¼ŒæŠŠå¿ƒä¸­çš„ç–‘å•å¾¹åº•è§£é–‹å¾Œï¼Œå†æ±ºå®šæ˜¯å¦é€²è¡Œæ‰‹è¡“ã€‚"
                            : "æ‚¨å°çµç´®æ‰‹è¡“å±•ç¾äº†èˆˆè¶£ï¼Œä½†åœ¨æŸäº›é—œéµé¢å‘ä¸Šé‚„éœ€è¦æ›´å¤šæ€è€ƒèˆ‡æº–å‚™ã€‚å¯èƒ½æ˜¯ä¼´ä¾¶å…±è­˜å°šæœªå®Œå…¨å»ºç«‹ï¼Œæˆ–æ˜¯å°æ‰‹è¡“çš„æ°¸ä¹…æ€§è³ªä»æœ‰ç–‘æ…®ã€‚",
                        recommendation: "å»ºè­°è¡Œå‹•",
                        action: "å»ºè­°å…ˆä¾†é–€è¨ºè«®è©¢ï¼Œè®“é™³å† å»·é™¢é•·ç‚ºæ‚¨è©³ç´°èªªæ˜ï¼Œè§£ç­”æ‚¨çš„ç–‘æ…®å¾Œå†åšæ±ºå®šã€‚ä¸è¦æ€¥è‘—å‹•åˆ€ï¼Œçµ¦è‡ªå·±æ›´å¤šæ€è€ƒæ™‚é–“ã€‚",
                        contact: "è«‹é€é Facebook ç²‰çµ²å°ˆé ã€æ¡ƒåœ’é«˜ç¾æ³Œå°¿ç§‘ã€‘ç§è¨Šé ç´„è«®è©¢é–€è¨º",
                        color: "from-orange-400 to-amber-500",
                        bgColor: "bg-orange-50",
                        borderColor: "border-orange-300",
                        image: IMAGES.resultB
                    };
                } else {
                    return {
                        title: "ğŸ›‘ æš«ç·©è©•ä¼°è€…",
                        grade: "Cç´š - å»ºè­°æš«ç·©",
                        description: "ç›®å‰æ‚¨çš„æº–å‚™åº¦å°šæœªé”åˆ°é©åˆæ¥å—çµç´®æ‰‹è¡“çš„æ¨™æº–ã€‚çµç´®æ˜¯ä¸€é …æ°¸ä¹…æ€§çš„æ±ºå®šï¼Œç›®å‰çš„æº–å‚™ç‹€æ…‹å¯èƒ½æœƒé€ æˆæœªä¾†å·¨å¤§çš„å¿ƒç†è² æ“”æˆ–å®¶åº­å•é¡Œã€‚",
                        recommendation: "å»ºè­°è¡Œå‹•",
                        action: "å»ºè­°æ‚¨å…ˆæš«ç·©æ­¤æ±ºå®šï¼Œç¶­æŒç¾æœ‰çš„é¿å­•æ–¹å¼ã€‚çµ¦è‡ªå·±èˆ‡ä¼´ä¾¶æ›´å¤šæ™‚é–“æ€è€ƒå’Œè¨è«–ã€‚æœ¬è¨ºæ‰€ç›®å‰ä¸å»ºè­°ç‚ºæ‚¨é€²è¡Œæ­¤æ‰‹è¡“ã€‚",
                        contact: "å¦‚éœ€è«®è©¢è«‹é€é Facebook ç²‰çµ²å°ˆé ã€æ¡ƒåœ’é«˜ç¾æ³Œå°¿ç§‘ã€‘ç§è¨Šï¼Œæˆ–å†æ¬¡æª¢è¦–æ‚¨çš„æ±ºå®š",
                        color: "from-slate-400 to-slate-600",
                        bgColor: "bg-slate-50",
                        borderColor: "border-slate-300",
                        image: IMAGES.resultC
                    };
                }
            };

            const exportToPDF = async () => {
                setIsExporting(true);
                try {
                    const element = document.getElementById('result-container');
                    const canvas = await html2canvas(element, {
                        scale: 2,
                        useCORS: true,
                        logging: false,
                        backgroundColor: '#ffffff'
                    });
                    
                    const imgData = canvas.toDataURL('image/png');
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({
                        orientation: 'portrait',
                        unit: 'mm',
                        format: 'a4'
                    });
                    
                    const imgWidth = 210;
                    const imgHeight = (canvas.height * imgWidth) / canvas.width;
                    let heightLeft = imgHeight;
                    let position = 0;
                    
                    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= 297;
                    
                    while (heightLeft > 0) {
                        position = heightLeft - imgHeight;
                        pdf.addPage();
                        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                        heightLeft -= 297;
                    }
                    
                    const fileName = `ç´³å£«çµç´®è³‡æ ¼æª¢å®š_${testDate.getFullYear()}${(testDate.getMonth()+1).toString().padStart(2,'0')}${testDate.getDate().toString().padStart(2,'0')}.pdf`;
                    pdf.save(fileName);
                } catch (error) {
                    alert('PDF ç”Ÿæˆå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
                    console.error('PDF export error:', error);
                } finally {
                    setIsExporting(false);
                }
            };

            const restart = () => {
                setCurrentQuestion(0);
                setAnswers({});
                setShowResult(false);
            };

            if (showResult) {
                const result = getResult();
                const criticalAnswers = Object.values(answers).filter(a => a.critical);
                
                return (
                    <div className="max-w-3xl mx-auto">
                        <div id="result-container" className="bg-white rounded-2xl shadow-2xl overflow-hidden">
                            {/* çµæœæ¨™é¡Œå€ */}
                            <div className={`bg-gradient-to-r ${result.color} text-white p-8 relative overflow-hidden`}>
                                <div className="absolute top-0 right-0 text-9xl opacity-10">
                                    {result.title.split(' ')[0]}
                                </div>
                                <div className="relative z-10">
                                    <div className="text-sm font-medium mb-2 opacity-90">è©•ä¼°å®Œæˆ</div>
                                    <h2 className="text-4xl font-bold mb-3">{result.title}</h2>
                                    <div className="text-2xl font-semibold">{result.grade}</div>
                                    <div className="mt-4 text-xl">ç¸½åˆ†ï¼š{totalScore} / 100</div>
                                </div>
                            </div>

                            {/* çµæœé…åœ–å€åŸŸ */}
                            {result.image && (
                                <div className="w-full h-64 overflow-hidden">
                                    <img 
                                        src={result.image} 
                                        alt="Result illustration"
                                        className="w-full h-full object-cover"
                                    />
                                </div>
                            )}

                            {/* çµæœå…§å®¹ */}
                            <div className="p-8">
                                {/* è©•ä¼°çµæœ */}
                                <div className={`${result.bgColor} border-2 ${result.borderColor} rounded-xl p-6 mb-6`}>
                                    <h3 className="text-lg font-bold text-gray-800 mb-3">ğŸ“‹ è©•ä¼°çµæœ</h3>
                                    <p className="text-gray-700 leading-relaxed">{result.description}</p>
                                </div>

                                {/* é—œéµé¡Œæª¢è¦– */}
                                {criticalAnswers.length > 0 && (
                                    <div className="bg-amber-50 border-2 border-amber-300 rounded-xl p-6 mb-6">
                                        <h3 className="text-lg font-bold text-amber-800 mb-3">ğŸ”‘ é—œéµé¡Œæª¢è¦–</h3>
                                        <p className="text-sm text-amber-700 mb-3">ä»¥ä¸‹æ˜¯å½±éŸ¿æ‰‹è¡“æ±ºç­–çš„é—œéµé …ç›®ï¼š</p>
                                        <div className="space-y-2">
                                            {criticalAnswers.map((answer, index) => (
                                                <div key={index} className={`flex items-center gap-2 p-3 rounded-lg ${
                                                    answer.score === 10 ? 'bg-green-100' : 
                                                    answer.score === 5 ? 'bg-yellow-100' : 'bg-red-100'
                                                }`}>
                                                    <span className="text-2xl">
                                                        {answer.score === 10 ? 'âœ“' : answer.score === 5 ? 'âš ï¸' : 'âŒ'}
                                                    </span>
                                                    <div className="flex-1">
                                                        <div className="text-sm font-medium text-gray-800">
                                                            {answer.question.replace('ã€é—œéµé¡Œã€‘', '')}
                                                        </div>
                                                    </div>
                                                    <span className={`text-sm font-bold ${
                                                        answer.score === 10 ? 'text-green-700' : 
                                                        answer.score === 5 ? 'text-yellow-700' : 'text-red-700'
                                                    }`}>
                                                        {answer.score}åˆ†
                                                    </span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {/* è©³ç´°åˆ†æ•¸ */}
                                <div className="bg-slate-50 border-2 border-slate-200 rounded-xl p-6 mb-6">
                                    <h3 className="text-lg font-bold text-gray-800 mb-4">ğŸ“Š è©³ç´°è©•åˆ†</h3>
                                    <div className="space-y-3">
                                        {Object.values(answers).map((answer, index) => (
                                            <div key={index} className="flex items-start gap-3 pb-3 border-b border-gray-200 last:border-0">
                                                <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${
                                                    answer.critical ? 'bg-amber-200 text-amber-800' : 'bg-slate-200 text-slate-700'
                                                }`}>
                                                    {index + 1}
                                                </div>
                                                <div className="flex-1">
                                                    <div className="text-sm text-gray-600 mb-1">
                                                        {answer.question}
                                                        {answer.critical && <span className="ml-2 text-xs bg-amber-200 text-amber-800 px-2 py-1 rounded-full">é—œéµé¡Œ</span>}
                                                    </div>
                                                    <div className="text-sm text-gray-800 font-medium">{answer.answer}</div>
                                                </div>
                                                <div className={`flex-shrink-0 px-3 py-1 rounded-full text-sm font-bold ${
                                                    answer.score === 10 ? 'bg-green-100 text-green-700' :
                                                    answer.score === 5 ? 'bg-yellow-100 text-yellow-700' :
                                                    'bg-red-100 text-red-700'
                                                }`}>
                                                    {answer.score}åˆ†
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                {/* å»ºè­°è¡Œå‹• */}
                                <div className="bg-slate-50 border-2 border-slate-200 rounded-xl p-6 mb-6">
                                    <h3 className="text-lg font-bold text-gray-800 mb-3">ğŸ’¡ {result.recommendation}</h3>
                                    <p className="text-gray-700 leading-relaxed mb-3">{result.action}</p>
                                    <div className="bg-white rounded-lg p-4 border border-slate-200">
                                        <p className="text-sm text-gray-600 mb-2">ğŸ“ è¯çµ¡æ–¹å¼</p>
                                        <p className="text-gray-800 font-medium">{result.contact}</p>
                                    </div>
                                </div>

                                {/* æ³•å¾‹è²æ˜ */}
                                <div className="bg-amber-50 border-l-4 border-amber-500 p-4 mb-6">
                                    <p className="text-xs text-gray-600 mb-2">ğŸ“„ é‡è¦è²æ˜</p>
                                    <p className="text-sm text-gray-700 leading-relaxed">
                                        æ­¤è©•ä¼°çµæœå°‡ä½œç‚ºè¡“å‰æº–å‚™åº¦è©•ä¼°çš„åƒè€ƒä¾æ“šï¼Œä¸¦å¯èƒ½å½±éŸ¿æ‰‹è¡“æ’ç¨‹æ±ºå®šã€‚
                                        æœ¬è©•ä¼°çµæœå·²ç”±æ‚¨æœ¬äººå®Œæˆï¼Œä¸¦ç†è§£ä¸Šè¿°å…§å®¹ã€‚æ­¤æ–‡ä»¶å¯èƒ½ä½œç‚ºç—…æ­·èˆ‡çŸ¥æƒ…åŒæ„æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ä¿å­˜ã€‚
                                    </p>
                                </div>

                                {/* è¨ºæ‰€è³‡è¨Š */}
                                <div className="text-center pt-6 border-t border-gray-200">
                                    <div className="mb-3">
                                        <div className="inline-block bg-gradient-to-r from-slate-700 to-amber-600 text-white px-6 py-2 rounded-full text-sm font-bold">
                                            æ¡ƒåœ’é«˜ç¾æ³Œå°¿ç§‘è¨ºæ‰€
                                        </div>
                                    </div>
                                    <p className="text-gray-600 font-medium mb-1">é™³å† å»· é™¢é•·</p>
                                    <p className="text-sm text-gray-500">æ¡ƒåœ’å¸‚æ¡ƒåœ’å€</p>
                                    <p className="text-xs text-gray-400 mt-3">
                                        è©•ä¼°æ—¥æœŸï¼š{testDate.toLocaleDateString('zh-TW')} {testDate.toLocaleTimeString('zh-TW')}
                                    </p>
                                </div>
                            </div>
                        </div>

                        {/* æŒ‰éˆ•å€ï¼ˆä¸åŒ…å«åœ¨PDFä¸­ï¼‰ */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-3 mt-6">
                            <button 
                                onClick={exportToPDF}
                                disabled={isExporting}
                                className={`${
                                    isExporting 
                                    ? 'bg-gray-400 cursor-not-allowed' 
                                    : 'bg-gradient-to-r from-slate-700 to-slate-900 hover:from-slate-800 hover:to-black'
                                } text-white py-4 px-6 rounded-xl font-semibold transition-all shadow-lg flex items-center justify-center gap-2`}
                            >
                                <span className="text-xl">ğŸ“¥</span>
                                <span>{isExporting ? 'ç”Ÿæˆä¸­...' : 'ä¸‹è¼‰è©•ä¼°çµæœ PDF'}</span>
                            </button>
                            
                            <button 
                                onClick={restart}
                                className="bg-white border-2 border-slate-300 text-slate-700 py-4 px-6 rounded-xl font-semibold hover:bg-slate-50 transition-all"
                            >
                                é‡æ–°è©•ä¼°
                            </button>
                        </div>
                    </div>
                );
            }

            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;

            return (
                <div className="max-w-3xl mx-auto">
                    <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
                        {/* Header */}
                        <div className="bg-gradient-to-r from-slate-800 via-slate-700 to-amber-600 text-white p-8 relative overflow-hidden">
                            {IMAGES.header && (
                                <div className="absolute inset-0 opacity-20">
                                    <img src={IMAGES.header} alt="Header" className="w-full h-full object-cover" />
                                </div>
                            )}
                            <div className="absolute top-0 right-0 text-9xl opacity-5">ğŸ’¼</div>
                            <div className="relative z-10">
                                <div className="text-amber-200 text-sm font-medium mb-2">VASECTOMY READINESS ASSESSMENT</div>
                                <h1 className="text-4xl font-bold mb-2">ç´³å£«çµç´®è³‡æ ¼æª¢å®š</h1>
                                <p className="text-slate-200 text-lg">è©•ä¼°æ‚¨çš„çµç´®æº–å‚™åº¦</p>
                            </div>
                        </div>

                        {/* Progress */}
                        <div className="bg-gray-200 h-3">
                            <div 
                                className="bg-gradient-to-r from-slate-600 to-amber-500 h-full transition-all duration-500 ease-out"
                                style={{ width: `${progress}%` }}
                            />
                        </div>

                        {/* Question Image */}
                        {question.image && (
                            <div className="w-full h-48 overflow-hidden">
                                <img 
                                    src={question.image} 
                                    alt={`Question ${currentQuestion + 1}`}
                                    className="w-full h-full object-cover"
                                />
                            </div>
                        )}

                        {/* Content */}
                        <div className="p-8">
                            {/* Question Header */}
                            <div className="mb-8">
                                <div className="flex items-center gap-3 mb-4">
                                    <span className="text-5xl">{question.icon}</span>
                                    <div>
                                        <div className="flex items-center gap-2">
                                            <span className="text-amber-600 font-bold text-sm">ç¬¬ {currentQuestion + 1} é¡Œ / å…± {questions.length} é¡Œ</span>
                                            {question.critical && (
                                                <span className="bg-amber-200 text-amber-800 text-xs px-2 py-1 rounded-full font-bold">
                                                    é—œéµé¡Œ
                                                </span>
                                            )}
                                        </div>
                                        <div className="text-xs text-gray-500 mt-1">æ¯é¡Œ10åˆ†ï¼Œæ»¿åˆ†100åˆ†</div>
                                    </div>
                                </div>
                                <h2 className="text-2xl font-bold text-gray-800 leading-relaxed">{question.question}</h2>
                            </div>

                            {/* Options */}
                            <div className="space-y-3">
                                {question.options.map((option, index) => {
                                    let borderColor = "border-gray-200 hover:border-amber-500";
                                    let bgColor = "hover:bg-amber-50";
                                    let textColor = "text-gray-700 group-hover:text-amber-700";
                                    let scoreColor = "text-gray-400 group-hover:text-amber-500";
                                    
                                    if (option.score === 10) {
                                        borderColor = "border-green-200 hover:border-green-500";
                                        bgColor = "hover:bg-green-50";
                                        textColor = "text-gray-700 group-hover:text-green-700";
                                        scoreColor = "text-gray-400 group-hover:text-green-500";
                                    } else if (option.score === 0) {
                                        borderColor = "border-red-200 hover:border-red-500";
                                        bgColor = "hover:bg-red-50";
                                        textColor = "text-gray-700 group-hover:text-red-700";
                                        scoreColor = "text-gray-400 group-hover:text-red-500";
                                    }
                                    
                                    return (
                                        <button
                                            key={index}
                                            onClick={() => handleAnswer(option.score)}
                                            className={`w-full text-left p-5 rounded-xl border-2 ${borderColor} ${bgColor} transition-all group shadow-sm hover:shadow-md`}
                                        >
                                            <div className="flex items-start justify-between gap-4">
                                                <span className={`${textColor} font-medium leading-relaxed flex-1`}>
                                                    {option.text}
                                                </span>
                                                <div className="flex flex-col items-end gap-1">
                                                    <span className={`text-sm ${scoreColor} font-semibold`}>
                                                        {option.score}åˆ†
                                                    </span>
                                                    {option.score === 10 && <span className="text-xs text-green-500">âœ“ æœ€ä½³</span>}
                                                    {option.score === 0 && <span className="text-xs text-red-500">âš  éœ€æ³¨æ„</span>}
                                                </div>
                                            </div>
                                        </button>
                                    );
                                })}
                            </div>

                            {/* Info Box */}
                            <div className="mt-8 bg-slate-50 border border-slate-200 rounded-lg p-4">
                                <p className="text-sm text-gray-600 leading-relaxed">
                                    ğŸ’¡ <strong>è©•åˆ†èªªæ˜ï¼š</strong>é¸æ“‡æœ€ç¬¦åˆæ‚¨å¯¦éš›æƒ…æ³çš„é¸é …ã€‚
                                    {question.critical && <span className="text-amber-700 font-bold"> æœ¬é¡Œç‚ºé—œéµé¡Œï¼Œç­”æ¡ˆå°‡å½±éŸ¿æœ€çµ‚è©•ç´šã€‚</span>}
                                    èª å¯¦ä½œç­”å°‡å¹«åŠ©æˆ‘å€‘æ›´æº–ç¢ºè©•ä¼°æ‚¨çš„æº–å‚™åº¦ï¼Œé€™å°æ‚¨çš„æ‰‹è¡“å®‰å…¨è‡³é—œé‡è¦ã€‚
                                </p>
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="bg-gradient-to-r from-slate-50 to-amber-50 px-8 py-4 border-t border-gray-200">
                            <div className="flex items-center justify-between text-sm text-gray-600">
                                <div className="flex items-center gap-2">
                                    <span className="font-semibold text-slate-700">æ¡ƒåœ’é«˜ç¾æ³Œå°¿ç§‘è¨ºæ‰€</span>
                                    <span className="text-gray-400">|</span>
                                    <span>é™³å† å»· é™¢é•·</span>
                                </div>
                                <div className="text-xs text-gray-400">
                                    {testDate.toLocaleDateString('zh-TW')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
